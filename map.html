<!-- Version modifi√©e Hexvia - couleurs vert / blanc / noir + logos Hexvia -->
<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Carte interactive Hexvia</title>

    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

    <style>
      html, body { margin: 0; height: 100%; font-family: system-ui, sans-serif; }
      #map { height: 100vh; width: 100%; }

      /* ---- Logo ---- */
      .logo-container {
        position: fixed;
        top: 15px;
        right: 15px;
        background: rgba(255, 255, 255, 0.9);
        border-radius: 10px;
        padding: 6px 10px;
        box-shadow: 0 0 6px rgba(0,0,0,0.25);
        z-index: 9999;
      }
      .logo-container img { height: 60px; }

      /* ---- L√©gende ---- */
      .legend {
        position: fixed;
        bottom: 15px;
        left: 15px;
        z-index: 9999;
        background: rgba(255,255,255,0.95);
        padding: 10px 12px;
        font-size: 13px;
        border-radius: 8px;
        box-shadow: 0 0 10px rgba(0,0,0,0.25);
        line-height: 1.6;
      }

      /* ---- Recherche ---- */
      .search-container {
        position: fixed;
        top: 15px;
        left: 15px;
        z-index: 9999;
        width: 260px;
      }
      .search-container input {
        width: 100%; padding: 8px 10px;
        border-radius: 6px; border: 1px solid #aaa;
        font-size: 14px; background:#fff;
      }
      .results-list {
        background: rgba(255,255,255,0.95);
        max-height: 200px; overflow-y: auto;
        border-radius: 6px; margin-top: 4px;
        box-shadow: 0 2px 6px rgba(0,0,0,0.25);
        display: none;
      }
      .result-item { padding: 6px 10px; cursor: pointer; border-bottom: 1px solid #eee; }
      .result-item:hover { background: #e8f5e9; }

      /* ---- Popup ---- */
      .popup-content { color:#000; font-size:13px; line-height:1.4; width: 230px; }
      .popup-buttons { display:flex; justify-content:space-between; margin-top:8px; gap:4px; }
      .popup-btn {
        flex:1; padding:6px 8px; border:none;
        border-radius:4px; font-size:12px; cursor:pointer;
        font-weight:600; color:white;
        transition:transform .15s ease, background .3s;
      }
      .popup-btn:hover { transform: scale(1.05); }
      .btn-dir { background:#1b5e20; }       /* vert fonc√© */
      .btn-dir:hover { background:#184e1b; }
      .btn-contact { background:#4caf50; }
      .btn-contact:hover { background:#449d48; }

      .popup-extra {
        margin-top:6px; padding:6px;
        border-radius:5px;
        background:#f0f0f0;
        font-size:12px;
        box-shadow: inset 0 0 4px rgba(0,0,0,0.1);
        overflow:hidden;
        max-height:0;
        opacity:0;
        transition:max-height .35s ease, opacity .35s ease, padding .35s ease;
      }
      .popup-extra.show { max-height: 220px; opacity:1; padding:8px 6px; }

      .google-btn {
        display:inline-block; margin-top:6px;
        background:#1b5e20; color:#fff!important;
        padding:5px 8px; border-radius:4px;
        text-decoration:none; font-weight:600; font-size:12px;
      }

      /* ---- Splash Screen ---- */
      #splash-screen {
        position: fixed; top:0; left:0;
        width:100%; height:100%;
        background: rgba(0,0,0,0.85);
        display:flex; flex-direction:column;
        align-items:center; justify-content:center;
        z-index: 10000;
        transition: opacity 0.8s ease;
        backdrop-filter: blur(4px);
      }
      #splash-screen img { width: 160px; margin-bottom: 25px; }
      #progress { margin-top: 8px; font-size: 15px; color: #ccc; font-weight: 600; }
      .progress-bar {
        width: 250px; height: 10px;
        background: rgba(255,255,255,0.2);
        border-radius: 5px; margin-top: 12px;
        overflow: hidden;
        box-shadow: inset 0 0 5px rgba(0,0,0,0.25);
      }
      .progress-bar-inner {
        height: 100%; width: 0%;
        background: #4caf50;     /* vert Hexvia */
        transition: width 0.3s ease;
      }
    </style>
  </head>

  <body>
    <div id="map"></div>

    <div class="search-container">
      <input type="text" id="searchInput" placeholder="üîç Rechercher une agence..." />
      <div class="results-list" id="resultsList"></div>
    </div>

    <!-- Logo Hexvia -->
    <div class="logo-container">
      <img src="https://i.ibb.co/35w511m5/logo-hexvia.png" alt="Hexvia" />
    </div>

    <!-- Nouvelle l√©gende -->
    <div class="legend">
      <b>L√©gende</b><br />
      <img src="https://i.ibb.co/dwMNf3ys/cheval.webp" width="22" /> Int√©gr√©e<br />
      <img src="https://i.ibb.co/ycZL5NML/carton-png.png" width="22" /> Franchis√©e<br />
      <img src="https://i.ibb.co/HTF1H829/camiondemeco-png.png" width="22" /> Ind√©pendante
    </div>

    <!-- Splash Hexvia -->
    <div id="splash-screen">
      <img src="https://i.ibb.co/35w511m5/logo-hexvia.png" alt="Hexvia" />
      <p style="color:#fff;margin:0 0 8px;">Chargement des agences Hexvia...</p>
      <div id="progress">0%</div>
      <div class="progress-bar"><div class="progress-bar-inner" id="progressBarInner"></div></div>
    </div>

    <!-- TODO: Script JS (identique sauf couleurs + logos) -->
  </body>
</html>
